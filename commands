var abi = [ { "inputs": [ { "internalType": "string", "name": "thing", "type": "string" } ], "name": "add", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [ { "internalType": "uint256", "name": "key", "type": "uint256" } ], "name": "get", "outputs": [ { "internalType": "string", "name": "", "type": "string" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "len", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "stateMutability": "view", "type": "function" }, { "inputs": [ { "internalType": "bytes32", "name": "key", "type": "bytes32" } ], "name": "lookup", "outputs": [ { "internalType": "string", "name": "", "type": "string" } ], "stateMutability": "view", "type": "function" }, { "inputs": [ { "internalType": "bytes32", "name": "key", "type": "bytes32" }, { "internalType": "string", "name": "value", "type": "string" } ], "name": "set", "outputs": [], "stateMutability": "nonpayable", "type": "function" } ];

var bytecode = '0x608060405234801561001057600080fd5b50610915806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c806356d88e271461005c5780639507d39a1461007a578063b0c8f9dc146100aa578063b4800033146100c6578063f39ec1f7146100e2575b600080fd5b610064610112565b60405161007191906102f5565b60405180910390f35b610094600480360381019061008f9190610346565b61011f565b6040516100a19190610403565b60405180910390f35b6100c460048036038101906100bf919061048a565b6101cf565b005b6100e060048036038101906100db919061050d565b610211565b005b6100fc60048036038101906100f7919061056d565b610238565b6040516101099190610403565b60405180910390f35b6000600180549050905090565b6060600182815481106101355761013461059a565b5b90600052602060002001805461014a906105f8565b80601f0160208091040260200160405190810160405280929190818152602001828054610176906105f8565b80156101c35780601f10610198576101008083540402835291602001916101c3565b820191906000526020600020905b8154815290600101906020018083116101a657829003601f168201915b50505050509050919050565b600182829091806001815401808255809150506001900390600052602060002001600090919290919290919290919250918261020c92919061080f565b505050565b8181600080868152602001908152602001600020918261023292919061080f565b50505050565b60606000808381526020019081526020016000208054610257906105f8565b80601f0160208091040260200160405190810160405280929190818152602001828054610283906105f8565b80156102d05780601f106102a5576101008083540402835291602001916102d0565b820191906000526020600020905b8154815290600101906020018083116102b357829003601f168201915b50505050509050919050565b6000819050919050565b6102ef816102dc565b82525050565b600060208201905061030a60008301846102e6565b92915050565b600080fd5b600080fd5b610323816102dc565b811461032e57600080fd5b50565b6000813590506103408161031a565b92915050565b60006020828403121561035c5761035b610310565b5b600061036a84828501610331565b91505092915050565b600081519050919050565b600082825260208201905092915050565b60005b838110156103ad578082015181840152602081019050610392565b60008484015250505050565b6000601f19601f8301169050919050565b60006103d582610373565b6103df818561037e565b93506103ef81856020860161038f565b6103f8816103b9565b840191505092915050565b6000602082019050818103600083015261041d81846103ca565b905092915050565b600080fd5b600080fd5b600080fd5b60008083601f84011261044a57610449610425565b5b8235905067ffffffffffffffff8111156104675761046661042a565b5b6020830191508360018202830111156104835761048261042f565b5b9250929050565b600080602083850312156104a1576104a0610310565b5b600083013567ffffffffffffffff8111156104bf576104be610315565b5b6104cb85828601610434565b92509250509250929050565b6000819050919050565b6104ea816104d7565b81146104f557600080fd5b50565b600081359050610507816104e1565b92915050565b60008060006040848603121561052657610525610310565b5b6000610534868287016104f8565b935050602084013567ffffffffffffffff81111561055557610554610315565b5b61056186828701610434565b92509250509250925092565b60006020828403121561058357610582610310565b5b6000610591848285016104f8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061061057607f821691505b602082108103610623576106226105c9565b5b50919050565b600082905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b6000600883026106c57fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610688565b6106cf8683610688565b95508019841693508086168417925050509392505050565b6000819050919050565b600061070c610707610702846102dc565b6106e7565b6102dc565b9050919050565b6000819050919050565b610726836106f1565b61073a61073282610713565b848454610695565b825550505050565b600090565b61074f610742565b61075a81848461071d565b505050565b5b8181101561077e57610773600082610747565b600181019050610760565b5050565b601f8211156107c35761079481610663565b61079d84610678565b810160208510156107ac578190505b6107c06107b885610678565b83018261075f565b50505b505050565b600082821c905092915050565b60006107e6600019846008026107c8565b1980831691505092915050565b60006107ff83836107d5565b9150826002028217905092915050565b6108198383610629565b67ffffffffffffffff81111561083257610831610634565b5b61083c82546105f8565b610847828285610782565b6000601f8311600181146108765760008415610864578287013590505b61086e85826107f3565b8655506108d6565b601f19841661088486610663565b60005b828110156108ac57848901358255600182019150602085019450602081019050610887565b868310156108c957848901356108c5601f8916826107d5565b8355505b6001600288020188555050505b5050505050505056fea264697066735822122097fa844680e379c10130d1ea980305988304f5366271d87279c062ec67964bbc64736f6c63430008120033';

var contract = eth.contract(abi);

var gas = eth.estimateGas({ data: bytecode });

var tx = { from: eth.accounts[0], data: bytecode, gas: gas };

var deployed_contract = contract.new(tx);

deployed_contract.address;

